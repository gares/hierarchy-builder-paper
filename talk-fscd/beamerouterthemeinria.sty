\mode<presentation>

% figures
% *******

\RequirePackage{tikz}

% logos
% -----

\pgfdeclareimage[width=15mm]{logobastrans}{figures-inria/custom/tab5x} %
% \pgfdeclareimage[width=0.12\paperwidth]{logobastrans}{figures-inria/custom/tab5xJC} 
%
% \pgfdeclareimage[width=0.12\paperwidth]{logobastrans}{figures-inria/custom/tab5x} 
%\pgfdeclareimage[width=4cm]{logoup}{figures-inria/custom/tabup10x-en} % size from official template

\pgfdeclareimage[width=4cm]{logoup}{figures-inria/custom/tabup10x-en-infomaths}
% size from official template

\pgfdeclareimage[width=4cm]{tab7xNoLogo}{figures-inria/custom/tab7xNoLogo} 

% footline figures
% ----------------

% note: there is also a white version for the partpage,
% it is referenced in "beamerinnerthemeinria.sty" 

\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-red}%
{figures-inria/custom/bannerbottom-red} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-blue}%
{figures-inria/custom/bannerbottom-blue} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-orange}% 3
{figures-inria/custom/bannerbottom-orange} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-darkblue}% 4
{figures-inria/custom/bannerbottom-darkblue}  
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-violet}% 5
{figures-inria/custom/bannerbottom-violet} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-pastelgreen}% 6
{figures-inria/custom/bannerbottom-pastelgreen} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-grey}% 7
{figures-inria/custom/bannerbottom-grey} 
\pgfdeclareimage[width=\paperwidth,height=31pt]{figfootline-green}% 8
{figures-inria/custom/bannerbottom-green} 

\pgfaliasimage{figfootline}{figfootline-red} % default

% outer theme definitions
% ***********************

% Headline
% --------
 
\defbeamertemplate*{headline}{inria theme}{}

% Footline
% --------
\defbeamertemplate*{footline}{inria theme}{%
\begin{tikzpicture}
  \useasboundingbox(0,0)rectangle(\paperwidth,31pt);
  \draw(0,0)node [anchor=south west,outer sep=0pt, inner sep=0pt ]{\pgfuseimage{figfootline}};
    \draw (0.02\paperwidth,0)
    node [anchor=south west,outer sep=0pt, inner sep=0pt ]{ \pgfuseimage{logobastrans}};
    %
    \draw(0.145\paperwidth,7pt)
    node [anchor=south west,outer sep=0pt, inner sep=0pt]
    { \insertshortauthor
      \ifx\insertshorttitle\@empty% %% FIXME: `then' branch never taken
      \else\ -- \insertshorttitle
      \fi
      \ifx\insertshortdate\@empty%
      \else\ -- \insertshortdate
      \fi
    };
    % 
    \draw (\paperwidth - 0.05 \paperheight,7pt)
    node [anchor=south east,outer sep=0pt, inner sep=0pt]
    {\insertframenumber};
    % 
\end{tikzpicture}}

% Background
% ----------

\defbeamertemplate*{background canvas}{inria theme}{}


% Sidebars
% --------

\defbeamertemplate*{sidebar left}{inria theme}{}
\defbeamertemplate*{sidebar right}{inria theme}{}

\defbeamertemplate*{sidebar canvas right}{inria theme}{}
\defbeamertemplate*{sidebar canvas left}{inria theme}{}


% navigation bar
% --------------

\setbeamertemplate{navigation symbols}{}%remove navigation symbols

% frametitle
% ----------

\setbeamersize{text margin left = 7mm}

\defbeamertemplate*{frametitle}{inria theme}
{
  % warning: positioning
  % I mimiced those in the powerpoint, exported in pdf.
  % horizontal positioning is done in the above "setbeamersize" 
  \vskip 7mm
  \usebeamerfont{frametitle}\usebeamercolor[fg]{frametitle}%
  \strut\insertframetitle\hfill
  {%
    \ifx\insertframesubtitle\@empty%
    \else%
    {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
    \fi
  }
}
